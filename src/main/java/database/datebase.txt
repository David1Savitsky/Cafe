create database cafe

use cafe

create table user(
	id int primary key auto_increment,
	name varchar(50) not null,
	surname varchar(50) not null,
	login varchar(50) not null,
	password varchar(32) not null,
	is_admin bool not null,
	amount decimal(10,2) not null default 0,
    score int not null,
    is_blocked bool not null default 0
);

create table food_price(
	id int primary key auto_increment,
    score int not null,
    price decimal(10,2) not null
);

create table food(
	id int primary key auto_increment,
    drink enum('water', 'juice', 'coffee') not null,
    meal enum('croissant', 'bagel', 'pizza') not null,
    price_id int not null,
    is_inaccessible bool not null default 0,
    foreign key (price_id) references food_price(id)
);

create table food_order(
	id int primary key auto_increment,
    visiting_time datetime not null,
    food_id int not null,
    user_id int not null,
    is_paid bool not null default 0,
    payment_type enum('card', 'cash') not null,
    foreign key (food_id) references food(id),
    foreign key (user_id) references user(id)
);
